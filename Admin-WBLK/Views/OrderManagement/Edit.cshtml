@model Admin_WBLK.Models.Donhang

@{
    ViewData["Title"] = "Chỉnh sửa đơn hàng";
}

<div class="p-6 w-full h-full bg-gray-50">
    <div class="max-w-3xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Chỉnh sửa đơn hàng</h1>

        <div class="bg-white rounded-lg shadow-sm p-6">
            <form asp-action="Edit">
                <div asp-validation-summary="ModelOnly" class="mb-4 p-4 rounded-lg bg-red-50 text-red-500"></div>
                <input type="hidden" asp-for="IdDh" />
                <input type="hidden" asp-for="Ngaydathang" />
                <input type="hidden" asp-for="Tongtien" />

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Mã đơn hàng (readonly) -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Mã đơn hàng</label>
                        <input value="@Model.IdDh" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg" />
                    </div>

                    <!-- Ngày đặt hàng (readonly) -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Ngày đặt hàng</label>
                        <input value="@Model.Ngaydathang.ToString("dd/MM/yyyy")" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg" />
                    </div>

                    <!-- Mã khách hàng -->
                    <div>
                        <label asp-for="IdKh" class="block text-sm font-medium text-gray-700 mb-1">Mã khách hàng</label>
                        <input asp-for="IdKh" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                        <span asp-validation-for="IdKh" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Mã nhân viên -->
                    <div>
                        <label asp-for="IdNv" class="block text-sm font-medium text-gray-700 mb-1">Mã nhân viên</label>
                        <input asp-for="IdNv" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                        <span asp-validation-for="IdNv" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Trạng thái -->
                    <div>
                        <label asp-for="Trangthai" class="block text-sm font-medium text-gray-700 mb-1">Trạng thái</label>
                        <select asp-for="Trangthai" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="Chờ xác nhận">Chờ xác nhận</option>
                            <option value="Đã xác nhận">Đã xác nhận</option>
                            <option value="Đang giao">Đang giao</option>
                            <option value="Đã giao">Đã giao</option>
                            <option value="Đã hủy">Đã hủy</option>
                            <option value="Yêu cầu hủy">Yêu cầu hủy</option>
                        </select>
                        <span asp-validation-for="Trangthai" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Phương thức thanh toán -->
                    <div>
                        <label asp-for="Phuongthucthanhtoan" class="block text-sm font-medium text-gray-700 mb-1">Phương thức thanh toán</label>
                        <select asp-for="Phuongthucthanhtoan" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="COD">Thanh toán khi nhận hàng (COD)</option>
                            <option value="Paypal">Paypal</option>
                            <option value="VNPay">Ví điện tử VNPay</option>
                        </select>
                        <span asp-validation-for="Phuongthucthanhtoan" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Mã giảm giá -->
                    <div>
                        <label asp-for="IdMgg" class="block text-sm font-medium text-gray-700 mb-1">Mã giảm giá</label>
                        <input asp-for="IdMgg" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                        <span asp-validation-for="IdMgg" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Địa chỉ giao hàng -->
                    <div class="md:col-span-2">
                        <label asp-for="Diachigiaohang" class="block text-sm font-medium text-gray-700 mb-1">Địa chỉ giao hàng</label>
                        <textarea asp-for="Diachigiaohang" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
                        <span asp-validation-for="Diachigiaohang" class="text-red-500 text-sm mt-1"></span>
                    </div>

                    <!-- Tổng tiền (readonly) -->
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Tổng tiền</label>
                        <input value="@Model.Tongtien.ToString("#,##0 VNĐ")" readonly class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg" />
                    </div>
                </div>

                <div class="flex justify-end gap-4 mt-6">
                    <a asp-action="Index" class="px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800">
                        Quay lại
                    </a>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        Lưu thay đổi
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
} 